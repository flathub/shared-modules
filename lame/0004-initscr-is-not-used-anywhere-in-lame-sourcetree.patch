From 22e5474508093bcdde14e0f60d74ba7894307d72 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Hubert=20Figui=C3=A8re?= <hub@figuiere.net>
Date: Tue, 18 Nov 2025 20:37:19 -0500
Subject: [PATCH 4/5] initscr is not used anywhere in lame sourcetree
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

check for used tgetent instead
check for separate tinfo library optionally built out from libncurses source tree,
like used in debian and gentoo
- ssuominen@g.o

http://bugs.gentoo.org/454322

Signed-off-by: Hubert Figui√®re <hub@figuiere.net>
---
 configure.in | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/configure.in b/configure.in
index 308b7ba..05b2fe7 100644
--- a/configure.in
+++ b/configure.in
@@ -371,9 +371,10 @@ dnl Checks for libraries.
 
 AC_CHECK_HEADERS(termcap.h)
 AC_CHECK_HEADERS(ncurses/termcap.h)
-AC_CHECK_LIB(termcap, initscr, HAVE_TERMCAP="termcap")
-AC_CHECK_LIB(curses, initscr, HAVE_TERMCAP="curses")
-AC_CHECK_LIB(ncurses, initscr, HAVE_TERMCAP="ncurses")
+AC_CHECK_LIB(termcap, tgetent, HAVE_TERMCAP="termcap")
+AC_CHECK_LIB(curses, tgetent, HAVE_TERMCAP="curses")
+AC_CHECK_LIB(ncurses, tgetent, HAVE_TERMCAP="ncurses")
+AC_CHECK_LIB(tinfo, tgetent, HAVE_TERMCAP="tinfo")
 
 AM_ICONV
  
-- 
2.51.0

